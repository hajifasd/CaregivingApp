<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>护理助手 - 我的预约</title>
    <!-- 引入Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- 引入自定义样式 -->
    <link href="css/components.css" rel="stylesheet">
    <!-- 引入JavaScript模块 -->
    <script src="js/pageBuilder.js"></script>
    <script src="js/common.js"></script>
    <script src="js/modules/auth.js"></script>
    <script src="js/modules/navigation.js"></script>
    <script src="js/modules/ui.js"></script>
    
    <!-- 配置Tailwind自定义主题 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        secondary: '#36CFC9',
                        accent: '#722ED1',
                        neutral: '#F5F7FA',
                        'neutral-dark': '#4E5969',
                        success: '#52C41A',
                        warning: '#FAAD14',
                        danger: '#FF4D4F',
                    },
                    fontFamily: {
                        inter: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .card-shadow {
                @apply shadow-sm hover:shadow-md transition-shadow duration-300;
            }
        }
    </style>
</head>
<body class="font-inter bg-gray-50 text-gray-800">
    <!-- 页面内容 -->
    <main class="p-6 bg-gray-50">
        <div class="flex items-center justify-between mb-6">
            <h2 class="text-xl font-bold">我的预约</h2>
            <button id="new-appointment-btn" class="bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-lg text-sm flex items-center gap-1 transition-colors">
                <i class="fa fa-plus"></i>
                <span>新建预约</span>
            </button>
        </div>
        
        <!-- 预约统计 -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
            <div class="bg-white rounded-xl p-4 card-shadow text-center">
                <div class="text-2xl font-bold text-primary mb-1">12</div>
                <div class="text-sm text-gray-600">总预约数</div>
            </div>
            <div class="bg-white rounded-xl p-4 card-shadow text-center">
                <div class="text-2xl font-bold text-blue-600 mb-1">3</div>
                <div class="text-sm text-gray-600">待确认</div>
            </div>
            <div class="bg-white rounded-xl p-4 card-shadow text-center">
                <div class="text-2xl font-bold text-warning mb-1">5</div>
                <div class="text-sm text-gray-600">进行中</div>
            </div>
            <div class="bg-white rounded-xl p-4 card-shadow text-center">
                <div class="text-2xl font-bold text-success mb-1">4</div>
                <div class="text-sm text-gray-600">已完成</div>
            </div>
        </div>
        
        <!-- 预约列表 -->
        <div class="bg-white rounded-xl card-shadow overflow-hidden">
            <div class="p-6 border-b border-gray-200">
                <h3 class="text-lg font-semibold">预约记录</h3>
            </div>
            
            <div class="divide-y divide-gray-200">
                <!-- 预约项目1 -->
                <div class="p-6 hover:bg-gray-50 transition-colors">
                    <div class="flex items-start justify-between">
                        <div class="flex items-start gap-4">
                            <img src="https://picsum.photos/id/1005/60/60" alt="护工头像" class="w-15 h-15 rounded-full object-cover">
                            <div>
                                <h4 class="font-semibold text-lg mb-1">李阿姨 - 居家护理</h4>
                                <p class="text-gray-600 text-sm mb-2">预约时间：2024-01-15 上午 8:00-12:00</p>
                                <p class="text-gray-600 text-sm mb-2">服务地址：北京市朝阳区建国路88号</p>
                                <div class="flex items-center gap-4 text-sm">
                                    <span class="text-primary font-medium">¥120/小时</span>
                                    <span class="text-gray-500">4小时服务</span>
                                    <span class="text-gray-500">总价：¥480</span>
                                </div>
                            </div>
                        </div>
                        <div class="text-right">
                            <span class="inline-block px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full mb-2">待确认</span>
                            <div class="space-y-2">
                                <button class="block w-full px-4 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary/90 transition-colors">
                                    确认预约
                                </button>
                                <button class="block w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50 transition-colors">
                                    修改
                                </button>
                                <button class="block w-full px-4 py-2 border border-danger text-danger rounded-lg text-sm hover:bg-danger/5 transition-colors">
                                    取消
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 预约项目2 -->
                <div class="p-6 hover:bg-gray-50 transition-colors">
                    <div class="flex items-start justify-between">
                        <div class="flex items-start gap-4">
                            <img src="https://picsum.photos/id/1006/60/60" alt="护工头像" class="w-15 h-15 rounded-full object-cover">
                            <div>
                                <h4 class="font-semibold text-lg mb-1">王叔叔 - 康复护理</h4>
                                <p class="text-gray-600 text-sm mb-2">预约时间：2024-01-16 下午 14:00-18:00</p>
                                <p class="text-gray-600 text-sm mb-2">服务地址：北京市朝阳区建国路88号</p>
                                <div class="flex items-center gap-4 text-sm">
                                    <span class="text-primary font-medium">¥150/小时</span>
                                    <span class="text-gray-500">4小时服务</span>
                                    <span class="text-gray-500">总价：¥600</span>
                                </div>
                            </div>
                        </div>
                        <div class="text-right">
                            <span class="inline-block px-3 py-1 bg-warning text-warning-800 text-sm rounded-full mb-2">进行中</span>
                            <div class="space-y-2">
                                <button class="block w-full px-4 py-2 bg-success text-white rounded-lg text-sm hover:bg-success/90 transition-colors">
                                    完成服务
                                </button>
                                <button class="block w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50 transition-colors">
                                    联系护工
                                </button>
                                <button class="block w-full px-4 py-2 border border-danger text-danger rounded-lg text-sm hover:bg-danger/5 transition-colors">
                                    紧急取消
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 预约项目3 -->
                <div class="p-6 hover:bg-gray-50 transition-colors">
                    <div class="flex items-start justify-between">
                        <div class="flex items-start gap-4">
                            <img src="https://picsum.photos/id/1007/60/60" alt="护工头像" class="w-15 h-15 rounded-full object-cover">
                            <div>
                                <h4 class="font-semibold text-lg mb-1">张护士 - 专业护理</h4>
                                <p class="text-gray-600 text-sm mb-2">预约时间：2024-01-14 上午 9:00-17:00</p>
                                <p class="text-gray-600 text-sm mb-2">服务地址：北京市朝阳区建国路88号</p>
                                <div class="flex items-center gap-4 text-sm">
                                    <span class="text-primary font-medium">¥180/小时</span>
                                    <span class="text-gray-500">8小时服务</span>
                                    <span class="text-gray-500">总价：¥1,440</span>
                                </div>
                            </div>
                        </div>
                        <div class="text-right">
                            <span class="inline-block px-3 py-1 bg-success text-success-800 text-sm rounded-full mb-2">已完成</span>
                            <div class="space-y-2">
                                <button class="block w-full px-4 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary/90 transition-colors">
                                    再次预约
                                </button>
                                <button class="block w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50 transition-colors">
                                    评价服务
                                </button>
                                <button class="block w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50 transition-colors">
                                    查看详情
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 预约项目4 -->
                <div class="p-6 hover:bg-gray-50 transition-colors">
                    <div class="flex items-start justify-between">
                        <div class="flex items-start gap-4">
                            <img src="https://picsum.photos/id/1008/60/60" alt="护工头像" class="w-15 h-15 rounded-full object-cover">
                            <div>
                                <h4 class="font-semibold text-lg mb-1">陈阿姨 - 陪护服务</h4>
                                <p class="text-gray-600 text-sm mb-2">预约时间：2024-01-17 全天 24小时</p>
                                <p class="text-gray-600 text-sm mb-2">服务地址：北京市朝阳区建国路88号</p>
                                <div class="flex items-center gap-4 text-sm">
                                    <span class="text-primary font-medium">¥110/小时</span>
                                    <span class="text-gray-500">24小时服务</span>
                                    <span class="text-gray-500">总价：¥2,640</span>
                                </div>
                            </div>
                        </div>
                        <div class="text-right">
                            <span class="inline-block px-3 py-1 bg-gray-100 text-gray-800 text-sm rounded-full mb-2">已取消</span>
                            <div class="space-y-2">
                                <button class="block w-full px-4 py-2 bg-primary text-white rounded-lg text-sm hover:bg-primary/90 transition-colors">
                                    重新预约
                                </button>
                                <button class="block w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg text-sm hover:bg-gray-50 transition-colors">
                                    查看详情
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- 分页 -->
        <div class="flex justify-center mt-8">
            <nav class="flex items-center space-x-2">
                <button class="px-3 py-2 text-gray-500 hover:text-primary disabled:opacity-50" disabled>
                    <i class="fa fa-chevron-left"></i>
                </button>
                <button class="px-3 py-2 bg-primary text-white rounded-lg">1</button>
                <button class="px-3 py-2 text-gray-500 hover:text-primary hover:bg-gray-100 rounded-lg">2</button>
                <button class="px-3 py-2 text-gray-500 hover:text-primary hover:bg-gray-100 rounded-lg">3</button>
                <button class="px-3 py-2 text-gray-500 hover:text-primary hover:bg-gray-100 rounded-lg">
                    <i class="fa fa-chevron-right"></i>
                </button>
            </nav>
        </div>
    </main>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 检查用户登录状态
            checkUserLogin();
            
            // 新建预约按钮
            const newAppointmentBtn = document.getElementById('new-appointment-btn');
            if (newAppointmentBtn) {
                newAppointmentBtn.addEventListener('click', function() {
                    // 这里添加新建预约功能逻辑
                    alert('新建预约功能开发中...');
                });
            }
            
            // 预约操作按钮
            document.querySelectorAll('button').forEach(button => {
                if (button.textContent.includes('确认预约')) {
                    button.addEventListener('click', function() {
                        alert('预约确认功能开发中...');
                    });
                }
                
                if (button.textContent.includes('修改')) {
                    button.addEventListener('click', function() {
                        alert('修改预约功能开发中...');
                    });
                }
                
                if (button.textContent.includes('取消')) {
                    button.addEventListener('click', function() {
                        if (confirm('确定要取消这个预约吗？')) {
                            alert('预约取消功能开发中...');
                        }
                    });
                }
                
                if (button.textContent.includes('完成服务')) {
                    button.addEventListener('click', function() {
                        alert('完成服务功能开发中...');
                    });
                }
                
                if (button.textContent.includes('联系护工')) {
                    button.addEventListener('click', function() {
                        alert('联系护工功能开发中...');
                    });
                }
                
                if (button.textContent.includes('再次预约')) {
                    button.addEventListener('click', function() {
                        alert('再次预约功能开发中...');
                    });
                }
                
                if (button.textContent.includes('评价服务')) {
                    button.addEventListener('click', function() {
                        alert('评价服务功能开发中...');
                    });
                }
                
                if (button.textContent.includes('查看详情')) {
                    button.addEventListener('click', function() {
                        alert('查看详情功能开发中...');
                    });
                }
                
                if (button.textContent.includes('重新预约')) {
                    button.addEventListener('click', function() {
                        alert('重新预约功能开发中...');
                    });
                }
            });
        });
        
        // 检查用户登录状态
        function checkUserLogin() {
            const token = localStorage.getItem('user_token');
            if (!token) {
                alert('请先登录');
                window.location.href = '/';
                return;
            }
        }
    </script>
</body>
</html>
